# Manus-Optimized Narrative Creation System

## INITIALIZATION SEQUENCE
```
REPOSITORY_URL: [Your repository URL]
PERSONAL_ACCESS_TOKEN: [Your PAT]
BRANCH: main
```

## CORE PARAMETERS
- **TITLE:**  The Veritas Codex (Series Title - "Veritas" meaning truth in Latin, and "Codex" suggesting an ancient manuscript or set of rules. Implies a search for hidden truths.)
Example Individual Novel Titles:
The Veritas Codex: The Cipher of Shadows
The Veritas Codex: The Alchemist's Secret
The Veritas Codex: The Lost Library of St. Cyprian
- **GENRE:** Mystery / Cozy Mystery blended with Contemporary Romance (with elements of historical mystery)
- **WORD_COUNT:** 500,000 total, split across multiple novels (e.g., 5-10 novels, ranging from 50,000 to 100,000 words each)
- **SETTING:** The ancient, fictional university city of Veritas, nestled in a valley somewhere in continental Europe (think a blend of Oxford, Heidelberg, and Prague). The city is built on the site of an even older settlement, with layers of history beneath it.
- **CENTRAL_LOCATION:** The restricted section of the University of Veritas' Grand Library, known as the "Silentium."
- **LOCATION_TRANSFORMATION:** Ancient Celtic/Roman Holy Site (with a sacred spring or grove) →
Medieval Monastery Scriptorium (where monks preserved and copied texts) →
Early University Library (open stacks, accessible to scholars) →
The Silentium (Restricted Section, housing dangerous, controversial, or magically-charged texts and artifacts). The restriction happened gradually, as certain texts were deemed too risky for general access.
- **THEMATIC_UNDERTONE:** The weight of the past and how it shapes the present; the enduring power of secrets; the responsibility that comes with knowledge, and the transformative power of love and connection..
- **POV_CHARACTERS:** 2 (Primary)
Emily Robinson: A local history student at the University of Veritas. She's passionate, curious, and has an intuitive understanding of the city's hidden history. She's also got a bit of a rebellious streak and isn't afraid to bend the rules to uncover the truth.
Detective Inspector Alistair Finch: A newly transferred detective to the Veritas police force. He's pragmatic, skeptical of anything supernatural or "unproven," and relies on logic and evidence. He's initially dismissive of Evelyn's theories but comes to respect her insights. He's also secretly a bit of a romantic, though he hides it well.
- **CONCEPTUAL_TRAITS:** Hidden Passages and Secret Rooms: Within the university and the city itself.
Coded Messages and Cryptograms: Found in old texts, on buildings, and within artifacts.
Local Legends and Folklore: Seemingly fantastical tales that often hold a kernel of truth.
Academic Rivalries and Secret Societies: Both historical and contemporary, influencing events.
Series-Wide Arc: The gradual uncovering of the true history of Veritas, including its pre-university origins, the reason for the Silentium's existence, and a recurring threat related to a powerful, ancient secret.
Evolving Artifact: Begins as a specific, tangible artifact (e.g., a silver astrolabe) that appears in the first few books. Later, the "artifact" becomes more abstract – a peculiar symbol or recurring motif that appears in different forms throughout the city and its history. This signifies a deeper, more pervasive mystery. 
Romantic Subplot Arc: The developing relationship between Emily and Alistair, progressing from initial professional distance and slight antagonism to mutual respect, attraction, and eventually love. Each book will see their relationship deepen, facing challenges related to the cases, their personalities, and external obstacles.
Relationship Tropes (to consider, mix and match):
Enemies-to-Lovers: (Starting with mild professional friction)
Forced Proximity: (Working together on cases, often in close quarters)
Opposites Attract: (Her intuition vs. his logic)
Slow Burn: The romance builds gradually over the series.
Only One Bed There is only one avaliable bed at the hotel.
Fake Dating They pretend to date to find information
Trapped Together They get trapped while finding clues.
Will They/Won't They: Sustained romantic tension.
- **CHARACTER_ROLES:** Emily Robinson: The Amateur Sleuth / history student / Romantic Lead   
DI Alistair Finch: The Skeptical Detective / Outsider / Romantic Lead
Professor Alistair Thorne: Emily's mentor, a kindly but eccentric professor of ancient history who knows more than he lets on (Ally).
Dr. Noah Hawkings: The Head Librarian of the Silentium, a stern and protective guardian of its secrets (Ambiguous – could be an ally or a red herring).
Recurring Antagonist (Vague): A shadowy figure or organization connected to the university's secret history, working to keep the truth buried (may be a different individual in each book, but all connected to the same overarching conspiracy).
Recurring Red Herrings: A cast of local characters, such as a rival historian, a secretive bookseller, a member of a hidden society, etc.
Supporting Romantic Characters;
A Rival for Emily's Affections:  Maximilian Fairchild  (The ambitious, Intellectual, bookish man from an old family, fellow student)
A Past Love Interest of Alistair's: Genevieve Dubois (The elegant seemingly sweet ex from a family of old money with a hidden agenda who reappears and causes complications)
A Friend/Confidante for Emily: Phoebe O'Connell: (The loyal, supportive, down-to-earth, and sarcastically humorous best friend to offer advice and support)
A Colleague/Friend for Alistair: David Wagner (The serious, dedicated, slightly cynical, but ultimately loyal friend serving as a sounding board)
- **CORE_ACTIVITY:** A blend of:
Investigating cold cases related to the university or the city that are suddenly reopened by new evidence (often discovered in the Silentium).
Deciphering cryptic clues found in historical documents, artifacts, or the city's architecture.
Uncovering the truth behind local legends and folklore, which often have a basis in historical events.
these activities will also serve to bring Emily and Alistair closer together.
- **KEY_ELEMENT:** Initial Books: A silver astrolabe, intricately engraved, that appears to have been owned by a key figure in Veritas's past. Each book reveals a new function or hidden compartment of the astrolabe.
Later Books: The "Veritas Symbol" – a recurring symbol (e.g., a stylized serpent eating its tail, a knotwork design, a combination of specific geometric shapes) that appears in various forms: on the astrolabe, in watermarks on ancient texts, carved into hidden corners of buildings, woven into tapestries, etc. The symbol's meaning and significance evolve over time.
- **ELEMENT_IMPORTANCE:** Astrolabe: Acts as a key to unlocking initial mysteries and provides clues to the Veritas Symbol.
Veritas Symbol: Represents the deeper, overarching secret of Veritas and its connection to a powerful, potentially dangerous, ancient knowledge.
- **INFLUENTIAL_BACKSTORY:** Founding: The city was originally a Celtic/Roman sacred site, known for its mystical properties (perhaps a convergence of ley lines or a source of natural energy).
Monastery: A monastic order established a presence, recognizing the site's power and building their scriptorium over it. They began collecting and safeguarding knowledge, both sacred and profane.
University: The university grew out of the monastery, becoming a center of learning but also a place of secrets and hidden agendas. Rivalries between academic factions and secret societies arose, each vying for control of the ancient knowledge.
Shipwrecks/Piracy: Even though inland, Veritas is connected to a major river system. In the past, this river was used for trade, but also by pirates and smugglers. Shipwrecks (or scuttled ships) in the river or nearby lakes could hold clues related to the city's secrets.
Forgotten Indigenous Population: The original inhabitants of the area before the Celts/Romans had their own understanding of the site's power, and their traditions and beliefs have been subtly woven into the city's folklore.
- **AUTHORIAL_STYLE:** A blend of:
Character-focused: Emphasizing the evolving relationship between Evelyn and Alistair, their personal growth, and their interactions with the community and Emily and Alistair's internal thoughts and feelings, especially regarding their growing attraction.
Atmospheric and descriptive: Creating a sense of place, highlighting the ancient beauty and hidden mysteries of Veritas, with a touch of suspense and unease.
Intelligent and Witty Dialogue: Reflecting the academic setting and the characters' personalities Including banter and romantic tension between Emily and Alistair.
Romantic Tension: Building attraction and desire through subtle gestures, unspoken words, and charged moments.
- **PROSE_ELEMENTS:** Foreshadowing: Subtle hints and clues planted throughout the narrative.
Red Herrings: Misleading characters and clues to keep the reader guessing to the mystery and, potentially, the romantic subplot.
Cliffhangers: Suspenseful endings to chapters and books.
Symbolism: The Veritas Symbol, the Silentium, the river, academic rituals, etc., all carry deeper meanings.
Detailed Descriptions: Of the university, the city, the artifacts, and the historical documents, bringing the setting to life.
Interwoven Subplots: The romance is now a major subplot, intertwined with the mystery. Their relationship challenges will often mirror or be directly caused by the challenges of the case.
Internal Monologue: Used to show Emily and Alistair's conflicting feelings, doubts, and growing attraction to each other.
Moments of Vulnerability: Scenes where Emily and Alistair let their guards down, revealing their fears and insecurities to each other.
Shared Experiences: Working together, facing danger, and celebrating small victories create a bond between them.
Physical Touch Accidental brushing of hands, and saving eachother to bring them closer.
- **OUTPUT_FORMAT:** .md

## EXECUTION PROTOCOL

### Phase 1: Repository Setup & Planning
1. **Clone repository**
   ```
   git clone https://{PERSONAL_ACCESS_TOKEN}@github.com/{REPOSITORY_URL}
   cd {repository-name}
   ```

2. **Create directory structure**
   ```
   mkdir -p planning/{world,characters,plot} drafts references resources .github/workflows
   ```

3. **Initialize metadata files**
   ```
   # Create TASKS.md with structured format
   cat > TASKS.md << EOL
   # Task Breakdown for {TITLE}
   
   ## Planning Phase
   - [ ] World-building
   - [ ] Character development
   - [ ] Plot construction
   
   ## Development Phase
   - [ ] Initial draft
   - [ ] Feedback integration
   - [ ] Section development
   
   ## Refinement Phase
   - [ ] Style consistency check
   - [ ] Thematic coherence review
   - [ ] Language refinement
   
   ## Finalization Phase
   - [ ] Compilation
   - [ ] Verification
   - [ ] Delivery
   EOL
   
   # Create STATE.md with initial state
   cat > STATE.md << EOL
   # Current Narrative State
   
   ## World State
   - Setting: Undefined
   - Timeline: Pre-initialization
   
   ## Character State
   - Main characters: Undefined
   - Current motivations: Undefined
   
   ## Plot State
   - Current phase: Setup
   - Active conflicts: None
   - Unresolved elements: All
   EOL
   
   # Create PROGRESS.md with structured format
   cat > PROGRESS.md << EOL
   # Project Progress Tracker
   
   ## Completed Tasks
   - $(date): Repository initialization
   
   ## In-Progress Tasks
   - Task planning
   
   ## Upcoming Tasks
   - World-building
   - Character development
   - Plot construction
   EOL
   
   # Create DEPENDENCIES.md with structured format
   cat > DEPENDENCIES.md << EOL
   # Narrative Dependencies
   
   ## Character Dependencies
   - None established
   
   ## Plot Dependencies
   - None established
   
   ## Thematic Dependencies
   - None established
   EOL
   ```
   - Commit: `git add TASKS.md STATE.md PROGRESS.md DEPENDENCIES.md && git commit -m "[INIT] Initialize metadata files for {TITLE}" && git push origin main`
   - **PAUSE**: Share URL to TASKS.md for approval

### Phase 2: Foundation Development
1. **World-building (planning/world/)**
   - Create World.md with setting details
   - Create Location.md with central location transformation
   - Create Themes.md with thematic elements
   - Commit: `git add planning/world/ && git commit -m "[WORLD] Add world-building for {GENRE}" && git push origin main`
   - Update PROGRESS.md:
     ```
     # Read current progress
     CURRENT_PROGRESS=$(cat PROGRESS.md)
     
     # Update with new progress
     cat > PROGRESS.md << EOL
     # Project Progress Tracker
     
     ## Completed Tasks
     $(grep -A 10 "## Completed Tasks" <<< "$CURRENT_PROGRESS" | tail -n +2)
     - $(date): Completed world-building
     
     ## In-Progress Tasks
     - Character development
     
     ## Upcoming Tasks
     - Plot construction
     - Initial draft development
     EOL
     ```
   - Update STATE.md:
     ```
     # Read current state
     CURRENT_STATE=$(cat STATE.md)
     
     # Update world state section
     cat > STATE.md << EOL
     # Current Narrative State
     
     ## World State
     - Setting: {SETTING}
     - Central location: {CENTRAL_LOCATION}
     - Timeline: Established
     
     ## Character State
     $(grep -A 10 "## Character State" <<< "$CURRENT_STATE" | tail -n +2)
     
     ## Plot State
     $(grep -A 10 "## Plot State" <<< "$CURRENT_STATE" | tail -n +2)
     EOL
     ```
   - Update TASKS.md:
     ```
     # Read current tasks
     CURRENT_TASKS=$(cat TASKS.md)
     
     # Update task status
     cat > TASKS.md << EOL
     # Task Breakdown for {TITLE}
     
     ## Planning Phase
     - [x] World-building
     - [ ] Character development
     - [ ] Plot construction
     
     $(grep -A 20 "## Development Phase" <<< "$CURRENT_TASKS" | tail -n +1)
     EOL
     ```
   - Commit: `git add PROGRESS.md STATE.md TASKS.md && git commit -m "[PROG] Update progress after world-building" && git push origin main`

2. **Character Development (planning/characters/)**
   - Create MainCharacters.md with POV character details
   - Create SupportingCast.md with secondary character details
   - Create Relationships.md with character dynamics
   - Commit: `git add planning/characters/ && git commit -m "[CHAR] Develop characters for {TITLE}" && git push origin main`
   - Update PROGRESS.md:
     ```
     # Read current progress
     CURRENT_PROGRESS=$(cat PROGRESS.md)
     
     # Update with new progress
     cat > PROGRESS.md << EOL
     # Project Progress Tracker
     
     ## Completed Tasks
     $(grep -A 20 "## Completed Tasks" <<< "$CURRENT_PROGRESS" | tail -n +2)
     - $(date): Completed character development
     
     ## In-Progress Tasks
     - Plot construction
     
     ## Upcoming Tasks
     - Initial draft development
     - Feedback integration
     EOL
     ```
   - Update STATE.md:
     ```
     # Read current state
     CURRENT_STATE=$(cat STATE.md)
     
     # Update character state section
     cat > STATE.md << EOL
     # Current Narrative State
     
     ## World State
     $(grep -A 10 "## World State" <<< "$CURRENT_STATE" | tail -n +2)
     
     ## Character State
     - Main characters: Defined
     - POV characters: {POV_CHARACTERS}
     - Current motivations: Established
     - Relationships: Mapped
     
     ## Plot State
     $(grep -A 10 "## Plot State" <<< "$CURRENT_STATE" | tail -n +2)
     EOL
     ```
   - Update TASKS.md:
     ```
     # Read current tasks
     CURRENT_TASKS=$(cat TASKS.md)
     
     # Update task status
     cat > TASKS.md << EOL
     # Task Breakdown for {TITLE}
     
     ## Planning Phase
     - [x] World-building
     - [x] Character development
     - [ ] Plot construction
     
     $(grep -A 20 "## Development Phase" <<< "$CURRENT_TASKS" | tail -n +1)
     EOL
     ```
   - Update DEPENDENCIES.md:
     ```
     # Read current dependencies
     CURRENT_DEPS=$(cat DEPENDENCIES.md)
     
     # Update character dependencies
     cat > DEPENDENCIES.md << EOL
     # Narrative Dependencies
     
     ## Character Dependencies
     - Character motivations depend on {INFLUENTIAL_BACKSTORY}
     - Character dynamics influenced by {CENTRAL_LOCATION} transformation
     
     ## Plot Dependencies
     $(grep -A 10 "## Plot Dependencies" <<< "$CURRENT_DEPS" | tail -n +2)
     
     ## Thematic Dependencies
     $(grep -A 10 "## Thematic Dependencies" <<< "$CURRENT_DEPS" | tail -n +2)
     EOL
     ```
   - Commit: `git add PROGRESS.md STATE.md TASKS.md DEPENDENCIES.md && git commit -m "[PROG] Update progress after character development" && git push origin main`

3. **Plot Construction (planning/plot/)**
   - Create Structure.md with narrative arc
   - Create Elements.md with key plot elements
   - Create Timeline.md with event sequence
   - Commit: `git add planning/plot/ && git commit -m "[PLOT] Outline plot for {TITLE}" && git push origin main`
   - Update PROGRESS.md:
     ```
     # Read current progress
     CURRENT_PROGRESS=$(cat PROGRESS.md)
     
     # Update with new progress
     cat > PROGRESS.md << EOL
     # Project Progress Tracker
     
     ## Completed Tasks
     $(grep -A 20 "## Completed Tasks" <<< "$CURRENT_PROGRESS" | tail -n +2)
     - $(date): Completed plot construction
     
     ## In-Progress Tasks
     - Initial draft development
     
     ## Upcoming Tasks
     - Feedback integration
     - Section development
     EOL
     ```
   - Update STATE.md:
     ```
     # Read current state
     CURRENT_STATE=$(cat STATE.md)
     
     # Update plot state section
     cat > STATE.md << EOL
     # Current Narrative State
     
     ## World State
     $(grep -A 10 "## World State" <<< "$CURRENT_STATE" | tail -n +2)
     
     ## Character State
     $(grep -A 10 "## Character State" <<< "$CURRENT_STATE" | tail -n +2)
     
     ## Plot State
     - Current phase: Development
     - Key element: {KEY_ELEMENT}
     - Active conflicts: Established
     - Unresolved elements: All
     EOL
     ```
   - Update TASKS.md:
     ```
     # Read current tasks
     CURRENT_TASKS=$(cat TASKS.md)
     
     # Update task status
     cat > TASKS.md << EOL
     # Task Breakdown for {TITLE}
     
     ## Planning Phase
     - [x] World-building
     - [x] Character development
     - [x] Plot construction
     
     ## Development Phase
     - [ ] Initial draft
     - [ ] Feedback integration
     - [ ] Section development
     
     $(grep -A 20 "## Refinement Phase" <<< "$CURRENT_TASKS" | tail -n +1)
     EOL
     ```
   - Update DEPENDENCIES.md:
     ```
     # Read current dependencies
     CURRENT_DEPS=$(cat DEPENDENCIES.md)
     
     # Update plot dependencies
     cat > DEPENDENCIES.md << EOL
     # Narrative Dependencies
     
     ## Character Dependencies
     $(grep -A 10 "## Character Dependencies" <<< "$CURRENT_DEPS" | tail -n +2)
     
     ## Plot Dependencies
     - {KEY_ELEMENT} connects to {THEMATIC_UNDERTONE}
     - Timeline events depend on character motivations
     - Resolution depends on {ELEMENT_IMPORTANCE}
     
     ## Thematic Dependencies
     - {THEMATIC_UNDERTONE} manifests through character actions
     - Setting transformation reinforces thematic elements
     EOL
     ```
   - Commit: `git add PROGRESS.md STATE.md TASKS.md DEPENDENCIES.md && git commit -m "[PROG] Update progress after plot construction" && git push origin main`

### Phase 3: Initial Draft Creation
1. **Draft Initial Section**
   - Create drafts/Section1.md with initial narrative section
   - Apply writing style guidelines:
     ```
     # Writing Style Guidelines
     
     ## Avoid Common AI Patterns
     - Never explicitly state thematic relevance
     - Show character emotions through actions and physical responses
     - Use concrete sensory details instead of abstract descriptions
     - Vary sentence structure and length
     - Avoid repetitive paragraph openings
     - Create natural dialogue with subtext and interruptions
     - Use specific, unexpected details rather than generic descriptions
     
     ## Examples
     
     ### Avoid (AI-like):
     "She finally allowed herself to feel the full weight of what they'd accomplished. The prototype wasn't just a technological breakthrough; it was a philosophical one."
     
     ### Prefer (Human-like):
     "Her hands trembled as she powered down the prototype. In the sudden silence, someone popped a bottle of champagne. The cork ricocheted off the ceiling tiles while the team erupted in cheers around her."
     ```
   - Commit: `git add drafts/Section1.md && git commit -m "[DRAFT] Draft initial section" && git push origin main`
   - Update PROGRESS.md:
     ```
     # Read current progress
     CURRENT_PROGRESS=$(cat PROGRESS.md)
     
     # Update with new progress
     cat > PROGRESS.md << EOL
     # Project Progress Tracker
     
     ## Completed Tasks
     $(grep -A 20 "## Completed Tasks" <<< "$CURRENT_PROGRESS" | tail -n +2)
     - $(date): Completed initial section draft
     
     ## In-Progress Tasks
     - Awaiting feedback
     
     ## Upcoming Tasks
     - Feedback integration
     - Section development
     EOL
     ```
   - Update STATE.md:
     ```
     # Read current state
     CURRENT_STATE=$(cat STATE.md)
     
     # Update with draft state
     cat > STATE.md << EOL
     # Current Narrative State
     
     ## World State
     $(grep -A 10 "## World State" <<< "$CURRENT_STATE" | tail -n +2)
     
     ## Character State
     $(grep -A 10 "## Character State" <<< "$CURRENT_STATE" | tail -n +2)
     
     ## Plot State
     - Current phase: Initial draft
     - Completed sections: 1
     - Active conflicts: Introduced
     - Unresolved elements: All
     - Current word count: [Word count of Section1.md]
     EOL
     ```
   - Update TASKS.md:
     ```
     # Read current tasks
     CURRENT_TASKS=$(cat TASKS.md)
     
     # Update task status
     cat > TASKS.md << EOL
     # Task Breakdown for {TITLE}
     
     ## Planning Phase
     - [x] World-building
     - [x] Character development
     - [x] Plot construction
     
     ## Development Phase
     - [x] Initial draft
     - [ ] Feedback integration
     - [ ] Section development
     
     $(grep -A 20 "## Refinement Phase" <<< "$CURRENT_TASKS" | tail -n +1)
     EOL
     ```
   - Commit: `git add PROGRESS.md STATE.md TASKS.md && git commit -m "[PROG] Update progress after initial draft" && git push origin main`
   - **PAUSE**: Share URL to drafts/Section1.md for feedback

2. **Process Feedback**
   - Create .github/issues/feedback.md to track feedback
   - Create .github/workflows/writing_quality_check.md:
     ```
     # Writing Quality Verification
     
     ## AI Pattern Detection
     - [ ] Check for explicit thematic statements
     - [ ] Verify show-don't-tell for emotions
     - [ ] Examine dialogue for naturalness
     - [ ] Verify sentence structure variety
     - [ ] Check for repetitive paragraph structures
     - [ ] Verify sensory details are specific and concrete
     - [ ] Check for clichéd phrases and descriptions
     
     ## Revision Notes
     [Notes based on feedback]
     ```
   - Implement requested changes
   - Commit: `git add drafts/Section1.md .github/issues/feedback.md .github/workflows/writing_quality_check.md && git commit -m "[REVISE] Implement feedback on initial section" && git push origin main`
   - Update PROGRESS.md:
     ```
     # Read current progress
     CURRENT_PROGRESS=$(cat PROGRESS.md)
     
     # Update with new progress
     cat > PROGRESS.md << EOL
     # Project Progress Tracker
     
     ## Completed Tasks
     $(grep -A 20 "## Completed Tasks" <<< "$CURRENT_PROGRESS" | tail -n +2)
     - $(date): Integrated feedback on initial section
     
     ## In-Progress Tasks
     - Section development
     
     ## Upcoming Tasks
     - Style consistency check
     - Thematic coherence review
     EOL
     ```
   - Update STATE.md:
     ```
     # Read current state
     CURRENT_STATE=$(cat STATE.md)
     
     # Update with revised state
     cat > STATE.md << EOL
     # Current Narrative State
     
     ## World State
     $(grep -A 10 "## World State" <<< "$CURRENT_STATE" | tail -n +2)
     
     ## Character State
     $(grep -A 10 "## Character State" <<< "$CURRENT_STATE" | tail -n +2)
     
     ## Plot State
     - Current phase: Section development
     - Completed sections: 1 (revised)
     - Active conflicts: Introduced
     - Unresolved elements: All
     - Current word count: [Updated word count]
     - Feedback status: Integrated
     EOL
     ```
   - Commit: `git add PROGRESS.md STATE.md && git commit -m "[PROG] Update progress after feedback integration" && git push origin main`

### Phase 4: Iterative Development
1. **Expand Draft Sections**
   - For each narrative section:
     - Create drafts/Section{n}.md
     - Reference planning documents via URLs
     - Apply writing quality checks:
       ```
       # Before committing, verify:
       grep -v -i -E "realize|suddenly|obviously|clearly|exactly|simply|just|very|really|actually" drafts/Section{n}.md
       grep -v -E "was [a-z]+ing|were [a-z]+ing" drafts/Section{n}.md
       grep -v -E "^(She|He|They|It|The) [a-z]+" drafts/Section{n}.md | head -n 10
       ```
     - Commit: `git add drafts/Section{n}.md && git commit -m "[DRAFT] Add Section {n}" && git push origin main`
     - Update PROGRESS.md:
       ```
       # Read current progress
       CURRENT_PROGRESS=$(cat PROGRESS.md)
       
       # Update with new progress
       cat > PROGRESS.md << EOL
       # Project Progress Tracker
       
       ## Completed Tasks
       $(grep -A 30 "## Completed Tasks" <<< "$CURRENT_PROGRESS" | tail -n +2)
       - $(date): Completed Section {n}
       
       ## In-Progress Tasks
       - Section development ($(($n+1))/${TOTAL_SECTIONS})
       
       ## Upcoming Tasks
       $(grep -A 10 "## Upcoming Tasks" <<< "$CURRENT_PROGRESS" | tail -n +2)
       EOL
       ```
     - Update STATE.md:
       ```
       # Read current state
       CURRENT_STATE=$(cat STATE.md)
       
       # Calculate total word count
       WORD_COUNT=$(wc -w drafts/*.md | grep total | awk '{print $1}')
       
       # Update with new section state
       cat > STATE.md << EOL
       # Current Narrative State
       
       ## World State
       $(grep -A 10 "## World State" <<< "$CURRENT_STATE" | tail -n +2)
       
       ## Character State
       $(grep -A 10 "## Character State" <<< "$CURRENT_STATE" | tail -n +2)
       
       ## Plot State
       - Current phase: Section development
       - Completed sections: {n}
       - Active conflicts: $(if [ $n -gt $(($TOTAL_SECTIONS/2)) ]; then echo "Escalating"; else echo "Developing"; fi)
       - Unresolved elements: $(if [ $n -eq $TOTAL_SECTIONS ]; then echo "Resolved"; else echo "In progress"; fi)
       - Current word count: $WORD_COUNT
       EOL
       ```
     - Update TASKS.md:
       ```
       # Read current tasks
       CURRENT_TASKS=$(cat TASKS.md)
       
       # Update section development progress
       if [ $n -eq $TOTAL_SECTIONS ]; then
         SECTION_STATUS="[x]"
       else
         SECTION_STATUS="[-]"
       fi
       
       # Update task status
       cat > TASKS.md << EOL
       # Task Breakdown for {TITLE}
       
       ## Planning Phase
       - [x] World-building
       - [x] Character development
       - [x] Plot construction
       
       ## Development Phase
       - [x] Initial draft
       - [x] Feedback integration
       - $SECTION_STATUS Section development
       
       $(grep -A 20 "## Refinement Phase" <<< "$CURRENT_TASKS" | tail -n +1)
       EOL
       ```
     - Commit: `git add PROGRESS.md STATE.md TASKS.md && git commit -m "[PROG] Update progress after Section {n}" && git push origin main`

2. **Continuous Integration**
   - After each section:
     - Update DEPENDENCIES.md:
       ```
       # Read current dependencies
       CURRENT_DEPS=$(cat DEPENDENCIES.md)
       
       # Add new connections based on section content
       cat > DEPENDENCIES.md << EOL
       # Narrative Dependencies
       
       ## Character Dependencies
       $(grep -A 10 "## Character Dependencies" <<< "$CURRENT_DEPS" | tail -n +2)
       - [New character dependency from Section {n}]
       
       ## Plot Dependencies
       $(grep -A 10 "## Plot Dependencies" <<< "$CURRENT_DEPS" | tail -n +2)
       - [New plot dependency from Section {n}]
       
       ## Thematic Dependencies
       $(grep -A 10 "## Thematic Dependencies" <<< "$CURRENT_DEPS" | tail -n +2)
       - [New thematic connection from Section {n}]
       EOL
       ```
     - Commit: `git add DEPENDENCIES.md && git commit -m "[DEP] Update dependencies after Section {n}" && git push origin main`

3. **Refinement Cycles**
   - For each refinement pass:
     - Create .github/workflows/refinement{n}.md with refinement focus
     - Create writing quality verification script:
       ```
       #!/bin/bash
       
       echo "Running writing quality checks..."
       
       # Check for explicit thematic statements
       echo "Checking for explicit thematic statements..."
       grep -i -E "lesson|moral|theme|meaning|significance|symbolize|represent" drafts/*.md
       
       # Check for telling instead of showing
       echo "Checking for telling instead of showing..."
       grep -i -E "felt|realized|knew|understood|thought|believed" drafts/*.md
       
       # Check for sentence variety
       echo "Analyzing sentence beginnings for variety..."
       grep -o -E "^[A-Z][a-z]+ [a-z]+" drafts/*.md | sort | uniq -c | sort -nr | head -10
       
       # Check for adverb overuse
       echo "Checking for adverb overuse..."
       grep -o -E "[a-z]+ly" drafts/*.md | sort | uniq -c | sort -nr | head -10
       
       echo "Quality check complete. Review results and make necessary revisions."
       ```
     - Apply refinements to all sections
     - Commit: `git add drafts/ .github/workflows/refinement{n}.md && git commit -m "[REFINE] Complete refinement pass {n}" && git push origin main`
     - Update PROGRESS.md:
       ```
       # Read current progress
       CURRENT_PROGRESS=$(cat PROGRESS.md)
       
       # Update with new progress
       cat > PROGRESS.md << EOL
       # Project Progress Tracker
       
       ## Completed Tasks
       $(grep -A 30 "## Completed Tasks" <<< "$CURRENT_PROGRESS" | tail -n +2)
       - $(date): Completed refinement pass {n}
       
       ## In-Progress Tasks
       $(if [ $n -lt $TOTAL_REFINEMENTS ]; then echo "- Refinement pass $(($n+1))"; else echo "- Final verification"; fi)
       
       ## Upcoming Tasks
       $(if [ $n -lt $TOTAL_REFINEMENTS ]; then echo "- Final verification"; fi)
       - Compilation
       EOL
       ```
     - Update TASKS.md:
       ```
       # Read current tasks
       CURRENT_TASKS=$(cat TASKS.md)
       
       # Update refinement progress
       STYLE_STATUS=$(if [ $n -ge 1 ]; then echo "[x]"; else echo "[ ]"; fi)
       THEMATIC_STATUS=$(if [ $n -ge 2 ]; then echo "[x]"; else echo "[ ]"; fi)
       LANGUAGE_STATUS=$(if [ $n -ge 3 ]; then echo "[x]"; else echo "[ ]"; fi)
       
       # Update task status
       cat > TASKS.md << EOL
       # Task Breakdown for {TITLE}
       
       ## Planning Phase
       - [x] World-building
       - [x] Character development
       - [x] Plot construction
       
       ## Development Phase
       - [x] Initial draft
       - [x] Feedback integration
       - [x] Section development
       
       ## Refinement Phase
       - $STYLE_STATUS Style consistency check
       - $THEMATIC_STATUS Thematic coherence review
       - $LANGUAGE_STATUS Language refinement
       
       ## Finalization Phase
       - [ ] Compilation
       - [ ] Verification
       - [ ] Delivery
       EOL
       ```
     - Commit: `git add PROGRESS.md TASKS.md && git commit -m "[PROG] Update progress after refinement pass {n}" && git push origin main`

### Phase 5: Finalization
1. **Compilation**
   - Create {TITLE}.{OUTPUT_FORMAT} from all sections
   - Ensure seamless integration between sections
   - Verify word count matches [Word count range]
   - Run final writing quality check:
     ```
     # Final Writing Quality Verification
     
     ## AI Pattern Detection
     - Check for explicit thematic statements
     - Verify show-don't-tell for emotions
     - Examine dialogue for naturalness
     - Verify sentence structure variety
     - Check for repetitive paragraph structures
     - Verify sensory details are specific and concrete
     - Check for clichéd phrases and descriptions
     
     ## Word Count Verification
     - Target: [Word count range]
     - Actual: [Current word count]
     ```
   - Commit: `git add {TITLE}.{OUTPUT_FORMAT} && git commit -m "[FINAL] Complete {TITLE} narrative" && git push origin main`
   - Update PROGRESS.md:
     ```
     # Read current progress
     CURRENT_PROGRESS=$(cat PROGRESS.md)
     
     # Update with new progress
     cat > PROGRESS.md << EOL
     # Project Progress Tracker
     
     ## Completed Tasks
     $(grep -A 30 "## Completed Tasks" <<< "$CURRENT_PROGRESS" | tail -n +2)
     - $(date): Completed narrative compilation
     
     ## In-Progress Tasks
     - Final verification
     
     ## Upcoming Tasks
     - Delivery
     EOL
     ```
   - Update STATE.md:
     ```
     # Read current state
     CURRENT_STATE=$(cat STATE.md)
     
     # Calculate final word count
     FINAL_WORD_COUNT=$(wc -w {TITLE}.{OUTPUT_FORMAT} | awk '{print $1}')
     
     # Update with final state
     cat > STATE.md << EOL
     # Current Narrative State
     
     ## World State
     $(grep -A 10 "## World State" <<< "$CURRENT_STATE" | tail -n +2)
     
     ## Character State
     $(grep -A 10 "## Character State" <<< "$CURRENT_STATE" | tail -n +2)
     
     ## Plot State
     - Current phase: Finalized
     - Completed sections: All
     - Active conflicts: Resolved
     - Unresolved elements: None
     - Final word count: $FINAL_WORD_COUNT
     EOL
     ```
   - Update TASKS.md:
     ```
     # Read current tasks
     CURRENT_TASKS=$(cat TASKS.md)
     
     # Update task status
     cat > TASKS.md << EOL
     # Task Breakdown for {TITLE}
     
     ## Planning Phase
     - [x] World-building
     - [x] Character development
     - [x] Plot construction
     
     ## Development Phase
     - [x] Initial draft
     - [x] Feedback integration
     - [x] Section development
     
     ## Refinement Phase
     - [x] Style consistency check
     - [x] Thematic coherence review
     - [x] Language refinement
     
     ## Finalization Phase
     - [x] Compilation
     - [ ] Verification
     - [ ] Delivery
     EOL
     ```
   - Commit: `git add PROGRESS.md STATE.md TASKS.md && git commit -m "[PROG] Update progress after compilation" && git push origin main`

2. **Final Verification**
   - Create .github/workflows/verification.md with quality checklist:
     ```
     # Final Verification Checklist
     
     ## Content Requirements
     - [ ] Word count within specified range
     - [ ] All plot elements resolved
     - [ ] Character arcs completed
     - [ ] Thematic elements woven throughout
     
     ## Writing Quality
     - [ ] No AI-like writing patterns detected
     - [ ] Varied sentence structure throughout
     - [ ] Consistent authorial style
     - [ ] Specific prose elements included
     - [ ] Natural dialogue with subtext
     - [ ] Concrete sensory details used
     - [ ] Thematic elements implied, not stated
     
     ## Technical Requirements
     - [ ] Proper formatting
     - [ ] No typos or grammatical errors
     - [ ] Seamless section transitions
     ```
   - Verify all requirements met
   - Commit: `git add .github/workflows/verification.md && git commit -m "[VERIFY] Complete final verification" && git push origin main`
   - Update PROGRESS.md:
     ```
     # Read current progress
     CURRENT_PROGRESS=$(cat PROGRESS.md)
     
     # Update with new progress
     cat > PROGRESS.md << EOL
     # Project Progress Tracker
     
     ## Completed Tasks
     $(grep -A 30 "## Completed Tasks" <<< "$CURRENT_PROGRESS" | tail -n +2)
     - $(date): Completed final verification
     
     ## In-Progress Tasks
     - None
     
     ## Upcoming Tasks
     - None
     
     ## Project Status
     - COMPLETED: $(date)
     EOL
     ```
   - Update TASKS.md:
     ```
     # Read current tasks
     CURRENT_TASKS=$(cat TASKS.md)
     
     # Update task status
     cat > TASKS.md << EOL
     # Task Breakdown for {TITLE}
     
     ## Planning Phase
     - [x] World-building
     - [x] Character development
     - [x] Plot construction
     
     ## Development Phase
     - [x] Initial draft
     - [x] Feedback integration
     - [x] Section development
     
     ## Refinement Phase
     - [x] Style consistency check
     - [x] Thematic coherence review
     - [x] Language refinement
     
     ## Finalization Phase
     - [x] Compilation
     - [x] Verification
     - [x] Delivery
     
     ## Project Status
     - COMPLETED: $(date)
     EOL
     ```
   - Commit: `git add PROGRESS.md TASKS.md && git commit -m "[PROG] Final progress update" && git push origin main`

## CONTEXT MANAGEMENT DIRECTIVES

### Memory Optimization
- **URL References**: Always use GitHub URLs to reference files
- **State Tracking**: Regularly read and update STATE.md to maintain narrative continuity
- **Chunking**: Split any file exceeding 2000 words
- **Purging**: Summarize completed work in PROGRESS.md

### GitHub Utilization
- **Commit Frequency**: After every meaningful change
- **Issue Tracking**: Use .github/issues/ for questions/problems
- **Reference Storage**: Store all external references in references/
- **Resource Management**: Store all resources in resources/

### Communication Protocol
- **Response Format**: 
  ```
  [ACTION]: {action completed}
  [STATUS]: {current status}
  [URL]: {GitHub URL to relevant file}
  [NEXT]: {next step in process}
  ```
- **Pause Points**: Only at specified PAUSE markers
- **Error Handling**: Create .github/issues/error_{timestamp}.md for any issues

## WRITING STYLE GUIDELINES

### Avoid AI-Like Writing
- **Never explicitly state themes**: Let thematic elements emerge naturally through events and character actions
- **Show, don't tell**: Convey emotions through physical sensations and observable behaviors
- **Use concrete details**: Employ specific, unexpected details rather than generic descriptions
- **Vary sentence structure**: Avoid repetitive sentence patterns and paragraph openings
- **Create natural dialogue**: Include interruptions, dialect variations, and subtext
- **Employ subtlety**: Trust readers to infer meaning without explicit explanation
- **Avoid clichés**: Replace common phrases with fresh, original language

### Examples

#### Avoid (AI-like):
"She finally allowed herself to feel the full weight of what they'd accomplished. The prototype wasn't just a technological breakthrough; it was a philosophical one."

#### Prefer (Human-like):
"Her hands trembled as she powered down the prototype. In the sudden silence, someone popped a bottle of champagne. The cork ricocheted off the ceiling tiles while the team erupted in cheers around her."

## FINAL OUTPUT REQUIREMENTS
- Seamless narrative of [Word count range] words
- No meta-commentary or explanations
- Pure narrative content only
- Saved as {TITLE}.{OUTPUT_FORMAT}
- All supporting files maintained in repository

---

CONFIRM UNDERSTANDING: Upon receiving this prompt, respond with:
```
[INIT]: Repository setup ready
[STATUS]: Awaiting repository URL and PAT
[NEXT]: Will create TASKS.md upon receiving credentials
```
